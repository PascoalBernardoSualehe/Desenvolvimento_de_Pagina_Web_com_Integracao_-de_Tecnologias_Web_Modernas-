<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Estudo de Português</title>
  <link rel="stylesheet" href="estilo.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <a href="index.html" class="navbar-brand">Estudo de Português</a>
    <div class="navbar-nav">
      <a href="index.html" class="nav-link">Início</a>
      <a href="materials.html" class="nav-link">Materiais</a>
      <a href="admin.html" class="nav-link">Admin</a>
    </div>
  </nav>

  <!-- Seção de Login e Cadastro -->
  <div class="container">
    <section id="login">
      <h1>Login</h1>
      <div class="form-group">
        <label for="loginUsername" class="form-label">Nome de Usuário</label>
        <input type="text" id="loginUsername" class="form-control" placeholder="Insira seu nome de usuário">
      </div>
      <div class="form-group">
        <label for="loginPassword" class="form-label">Senha</label>
        <input type="password" id="loginPassword" class="form-control" placeholder="Insira sua senha">
      </div>
      <button class="btn btn-primary" onclick="handleLogin()">Entrar</button>
    </section>

    <section id="register">
      <h1>Cadastro</h1>
      <div class="form-group">
        <label for="registerUsername" class="form-label">Nome de Usuário</label>
        <input type="text" id="registerUsername" class="form-control" placeholder="Insira seu nome de usuário">
      </div>
      <div class="form-group">
        <label for="registerPassword" class="form-label">Senha</label>
        <input type="password" id="registerPassword" class="form-control" placeholder="Insira sua senha">
      </div>
      <div class="form-group">
        <label for="userType" class="form-label">Tipo</label>
        <select id="userType" class="form-control">
          <option>Estudante</option>
          <option>Professor</option>
        </select>
      </div>
      <div class="form-group">
        <label for="userLevel" class="form-label">Escolher seu nível de estudo</label>
        <select id="userLevel" class="form-control">
          <option>Inicial</option>
          <option>Intermédio</option>
          <option>Avançado</option>
        </select>
      </div>
      <div class="form-group">
        <label for="userLocation" class="form-label">Localização</label>
        <input type="text" id="userLocation" class="form-control" placeholder="Insira sua localização">
      </div>
      <button class="btn btn-primary" onclick="handleRegister()">Cadastrar</button>
    </section>
  </div>

  <script>
    // Função para cadastrar um usuário
    function handleRegister() {
      const username = document.getElementById('registerUsername').value;
      const password = document.getElementById('registerPassword').value;
      const type = document.getElementById('userType').value;
      const level = document.getElementById('userLevel').value;
      const location = document.getElementById('userLocation').value;

      // Validação básica
      if (!username || !password || !type || !level || !location) {
        alert('Por favor, preencha todos os campos.');
        return;
      }

      // Salvar os dados no localStorage
      const user = {
        username: username,
        password: password, // Em produção, a senha deve ser criptografada
        type: type,
        level: level,
        location: location
      };
      localStorage.setItem('user_' + username, JSON.stringify(user));

      alert('Cadastro realizado com sucesso! Faça login para continuar.');
      // Limpar o formulário
      document.getElementById('registerUsername').value = '';
      document.getElementById('registerPassword').value = '';
      document.getElementById('userType').value = 'Estudante';
      document.getElementById('userLevel').value = 'Inicial';
      document.getElementById('userLocation').value = '';
    }

    // Função para realizar o login e redirecionar
    function handleLogin() {
      const username = document.getElementById('loginUsername').value;
      const password = document.getElementById('loginPassword').value;

      // Validação básica
      if (!username || !password) {
        alert('Por favor, preencha todos os campos.');
        return;
      }

      // Verificar se o usuário existe no localStorage
      const userData = localStorage.getItem('user_' + username);
      if (!userData) {
        alert('Usuário não encontrado. Por favor, cadastre-se.');
        return;
      }

      const user = JSON.parse(userData);
      if (user.password !== password) {
        alert('Senha incorreta. Tente novamente.');
        return;
      }

      // Login bem-sucedido, redirecionar para lessons.html
      alert('Login bem-sucedido! Redirecionando para os tópicos...');
      window.location.href = 'lessons.html';
    }
  </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'940a3e15c837b72b',t:'MTc0NzM5MTg3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>